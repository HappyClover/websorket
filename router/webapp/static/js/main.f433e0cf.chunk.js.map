{"version":3,"sources":["images/back.svg","images/exit.svg","images/kickboard.svg","images/chargePort.svg","App.jsx","index.js"],"names":["result","window","id","station_id","name","station_name","port","station_port","key","port_code","company_name","api_key","msg","err_code","socket","require","io","mobile","varUA","navigator","userAgent","toLowerCase","indexOf","checkMobile","Clock","props","state","time","decreaseTime","bind","this","setState","emit","timeOut","clearInterval","timeID","setInterval","className","React","Component","Brochure","src","kickboard","alt","style","fontSize","fontWeight","chargePort","HeaderText","text","HeaderButton","imgSource","function","backArrow","exit","Header","headerText","ChargeReady","type","FooterButton","onClick","handleClick","ChargeDisplayPlug","ChargeDisplayText","Fragment","color","marginBottom","ChargeDisplayContainer","ChargeSuccess","ErrorText","children","ErrorDisplayContainer","havePlug","displayPlug","ErrorPage","Links","to","replace","App","back_count","Android","charge_fail","message","port_numb","webkit","messageHandlers","postMessage","JSON","stringfy","close","station_data","document","querySelector","click","charge_start","user_data","console","log","stringify","on","data","code","detail","render","location","preset","transitionKey","pathname","exact","path","havPlug","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.f433e0cf.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/back.362f030b.svg\";","export default __webpack_public_path__ + \"static/media/exit.5b5e714c.svg\";","export default __webpack_public_path__ + \"static/media/kickboard.3d3acffc.svg\";","export default __webpack_public_path__ + \"static/media/chargePort.4d730b7a.svg\";","import React from 'react';\r\nimport { BrowserRouter, Switch, Route, Link } from 'react-router-dom';\r\nimport { PageTransition } from '@steveeeie/react-page-transition';\r\nimport './index.scss';\r\nimport backArrow from './images/back.svg';\r\nimport exit from './images/exit.svg'\r\nimport kickboard from './images/kickboard.svg';\r\nimport chargePort from './images/chargePort.svg';\r\n\r\n\r\nconst result = window.result;\r\nconst id = window.station_id;\r\nconst name = window.station_name;\r\nconst port = window.station_port;\r\nconst port_code = window.port_code;\r\nconst company = window.company_name;\r\nconst key = window.api_key;\r\nconst msg = window.msg;\r\nconst err_code = window.err_code;\r\n\r\nfunction checkMobile(){\r\n \r\n  var varUA = navigator.userAgent.toLowerCase(); //userAgent 값 얻기\r\n\r\n  if ( varUA.indexOf('android') > -1) {\r\n      //안드로이드\r\n      return \"android\";\r\n  } else if ( varUA.indexOf(\"iphone\") > -1||varUA.indexOf(\"ipad\") > -1||varUA.indexOf(\"ipod\") > -1 ) {\r\n      //IOS\r\n      return \"ios\";\r\n  } else {\r\n      //아이폰, 안드로이드 외\r\n      return \"other\";\r\n  }\r\n  \r\n}\r\n\r\n\r\nconst io = require(\"socket.io-client\");\r\nconst socket = io();\r\nconst mobile = checkMobile();\r\n\r\nclass Clock extends React.Component{\r\n  constructor(props){\r\n    super(props);\r\n    this.state={\r\n      time: this.props.time,\r\n    }\r\n    \r\n    this.decreaseTime = this.decreaseTime.bind(this);\r\n  }\r\n\r\n  decreaseTime(){\r\n    const time = this.state.time;\r\n\r\n    if(time > 0){\r\n      this.setState({\r\n        time: time - 1,\r\n      });\r\n    }\r\n    \r\n    else{\r\n      socket.emit('charge_cancel');\r\n      this.props.timeOut();\r\n      clearInterval(this.timeID);\r\n    }\r\n  }\r\n\r\n  componentDidMount(){\r\n    this.timeID = setInterval(this.decreaseTime, 1000);\r\n  }\r\n\r\n  render(){\r\n    return(\r\n      <div className='clockContainer'>\r\n        <div className='clock'>\r\n          {this.state.time}\r\n        </div>\r\n        <div className='clockText'>\r\n          초 후에 자동으로 화면이 넘어갑니다.\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nclass Brochure extends React.Component{\r\n  render(){\r\n    return(\r\n      <div className='brochure'>\r\n        <div className='explainContainer'>\r\n          <img className='kickboard' src={kickboard} alt='kickboard'></img>\r\n          <div className='firstExplain'>\r\n            <div style={{fontSize:'13px', fontWeight:'400'}}>01</div>\r\n            <div style={{fontSize:'12px', fontWeight:'700'}}>킥보드를 0번 거치대에</div>\r\n            <div style={{fontSize:'12px', fontWeight:'700'}}>끝까지 밀어넣어 주세요.</div>\r\n          </div>\r\n        </div>\r\n        <div className='explainContainer'>\r\n          <img className='chargePort' src={chargePort} alt='chargePort'></img>\r\n          <div className='secondExplain'>\r\n            <div style={{fontSize:'13px', fontWeight:'400'}}>02</div>\r\n            <div style={{fontSize:'12px', fontWeight:'700'}}>단자를 올바르게 꽂아주면</div>\r\n            <div style={{fontSize:'12px', fontWeight:'700'}}>자동으로 충전이 시작됩니다.</div>\r\n          </div>\r\n        </div>\r\n        <div className='split'></div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nclass HeaderText extends React.Component{\r\n  render(){\r\n    return(\r\n      <div className='headerText'>{this.props.text}</div>\r\n    )\r\n  }\r\n}\r\n\r\nclass HeaderButton extends React.Component{\r\n  render(){\r\n    let imgSource;\r\n\r\n    if(this.props.function === 'back'){\r\n      imgSource = backArrow;\r\n    }\r\n\r\n    else if(this.props.function === 'exit') {\r\n      imgSource = exit;\r\n    }\r\n\r\n    return(\r\n      <img className='headerButton' src={imgSource} alt='headerbutton'></img>\r\n    )\r\n  }\r\n}\r\n\r\nclass Header extends React.Component{\r\n  render(){\r\n    return(\r\n      <div className='header'>\r\n        <HeaderButton function={this.props.function}></HeaderButton>\r\n        <HeaderText text={this.props.headerText}></HeaderText>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nclass ChargeReady extends React.Component{\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      headerText: '충전 준비',\r\n    }\r\n  }\r\n  render(){\r\n    return( \r\n      <div className='page chargeReady'>\r\n        <Header headerText={this.state.headerText} function='back'></Header>\r\n        <Brochure></Brochure>\r\n        <Clock type='next' time={30} timeOut={this.props.timeOut}></Clock>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nclass FooterButton extends React.Component{\r\n  render(){\r\n    return(\r\n      <div className='footerButtonContainer'>\r\n        <button className='footerButton' onClick={this.props.handleClick}>{this.props.text}</button>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nclass ChargeDisplayPlug extends React.Component{\r\n  render(){\r\n    return(\r\n      <div className='plugContainer'>\r\n        <div>\r\n          <div>\r\n            <div></div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nclass ChargeDisplayText extends React.Component{\r\n  render(){\r\n\r\n    const style1 = {\r\n      fontSize: '18px',\r\n      fontWeight: '700',\r\n      color: '#FF9700',\r\n      marginBottom: '7px',\r\n    }\r\n\r\n    const style2 = {\r\n      fontSize: '16px',\r\n      fontWeight: '500',\r\n      color: '#333333',\r\n    }\r\n\r\n    const style3 = {\r\n      fontSize: '16px',\r\n      fontWeight: '500',\r\n      color: '#333333',\r\n      marginBottom: '25px',\r\n    }\r\n\r\n    return(\r\n      <React.Fragment>\r\n        <div style={style1}>1번 포트</div>\r\n        <div style={style2}>충전이 정상적으로</div>\r\n        <div style={style3}>시작되었습니다.</div>\r\n      </React.Fragment>\r\n    )\r\n  }\r\n}\r\n\r\nclass ChargeDisplayContainer extends React.Component{\r\n  render(){\r\n    return(\r\n      <div className='chargeDisplayContainer'>\r\n        <ChargeDisplayText></ChargeDisplayText>\r\n        <ChargeDisplayPlug></ChargeDisplayPlug>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nclass ChargeSuccess extends React.Component{\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      headerText: '충전 성공',\r\n    }\r\n  }\r\n\r\n  render(){\r\n    return(\r\n      <div className='page chargeSuccess'>\r\n        <Header headerText={this.state.headerText} function='back'></Header>\r\n        <ChargeDisplayContainer/>\r\n        <Clock type='back' time={5} timeOut={this.props.timeOut}></Clock>\r\n        <FooterButton text='종료하기' handleClick={this.props.handleClick} ></FooterButton>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nclass ErrorText extends React.Component{\r\n  render(){\r\n    return(\r\n      <div className='errorTextContainer'>\r\n        <div className='errorText'>\r\n          {this.props.children}\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nclass ErrorDisplayContainer extends React.Component{\r\n\r\n  displayPlug(){\r\n    if(this.props.havePlug === 'true'){\r\n      return <ChargeDisplayPlug></ChargeDisplayPlug>;\r\n    }\r\n    else if(this.props.havePlug === 'false'){\r\n      return null;\r\n    }\r\n    return null;\r\n  }\r\n\r\n  render(){\r\n    return(\r\n      <div className='errorDisplayContainer'>\r\n        <div className='errorHeadText'>오류발생</div>\r\n        <ErrorText>{this.props.children}</ErrorText>\r\n        {this.displayPlug()}\r\n      </div>\r\n    ) \r\n  }\r\n}\r\n\r\nclass ErrorPage extends React.Component{\r\n  render(){\r\n    return(\r\n      <div className='page errorPage'>\r\n        <Header headerText='' function='exit'></Header>\r\n        <ErrorDisplayContainer havePlug={this.props.havePlug}>\r\n          {this.props.children}\r\n        </ErrorDisplayContainer>\r\n        <FooterButton text='돌아가기' handleClick={this.props.handleClick}></FooterButton>\r\n      </div>   \r\n    )\r\n  }\r\n}\r\n\r\n\r\nconst Links = () => (\r\n  <div className='nav'>\r\n    <Link to=\"/ready\" className='ready' replace>Home</Link>\r\n    <Link to=\"/success\" className='success'>Success</Link>\r\n    <Link to=\"/errorPage1\" className='error1' replace>ErrorPage1</Link>\r\n    <Link to=\"/errorPage2\" className='error2' replace>ErrorPage2</Link>\r\n    <Link to=\"/errorPage3\" className='error3' replace>ErrorPage3</Link>\r\n    <Link to=\"/errorPage4\" className='error4' replace>ErrorPage4</Link>\r\n  </div>\r\n);\r\n \r\nclass App extends React.Component {\r\n\r\n  constructor(props){\r\n    super(props);\r\n    this.state ={\r\n      state: \"fail\",\r\n      back_count: 0,\r\n    }\r\n\r\n    this.handleClick = this.handleClick.bind(this);\r\n    this.timeOut = this.timeOut.bind(this);\r\n  }\r\n\r\n  handleClick(){\r\n    \r\n    if(this.state.state === \"fail\"){\r\n      if(mobile === \"android\"){\r\n        window.Android.charge_fail(name, port, 992, msg);\r\n      }\r\n      else if(mobile === \"ios\"){\r\n        const message = {\r\n          station_name: name,\r\n          port_numb: port,\r\n          err_code: err_code,\r\n          msg: msg,\r\n        }\r\n        window.webkit.messageHandlers.charge_fail.postMessage(JSON.stringfy(message));\r\n      }\r\n      window.close();\r\n    }\r\n\r\n    else if(this.state.state === \"back\"){\r\n\r\n      let station_data = {\r\n        station_id: id,\r\n        port_numb: port,\r\n      }\r\n\r\n      socket.emit('port_ready', station_data);\r\n      document.querySelector('.ready').click();\r\n    }\r\n\r\n    else if(this.state.state === \"success\"){\r\n      if(mobile === \"android\"){\r\n        window.Android.charge_start(name, port);\r\n      }\r\n\r\n      else if(mobile === \"ios\"){\r\n        let station_data = {\r\n          station_id: id,\r\n          port_numb: port,\r\n        }\r\n\r\n        window.webkit.messageHandlers.charge_fail.postMessage(JSON.stringfy(station_data));\r\n      }\r\n      window.close();\r\n    }\r\n\r\n  }\r\n\r\n  timeOut(){\r\n    if(this.state.state === \"success\"){\r\n      if(mobile === \"android\"){\r\n        window.Android.charge_start(name, port);\r\n      }\r\n\r\n      else if(mobile === \"ios\"){\r\n        let station_data = {\r\n          station_id: id,\r\n          port_numb: port,\r\n        }\r\n\r\n        window.webkit.messageHandlers.charge_fail.postMessage(JSON.stringfy(station_data));\r\n      }\r\n      window.close();\r\n    }\r\n    else{\r\n      this.setState({\r\n        back_count: this.state.back_count + 1,\r\n      });\r\n\r\n      if(this.state.back_count === 1){\r\n        document.querySelector('.error2').click();\r\n        this.setState({\r\n          state: \"back\",\r\n        });\r\n      }\r\n  \r\n      else if(this.state.back_count === 2){\r\n        document.querySelector('.error1').click();\r\n        this.setState({\r\n          state: \"fail\",\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  componentDidMount(){\r\n\r\n      if(result){\r\n\r\n        let user_data = {\"api\": key, \"type\": \"company\"};\r\n        console.log(user_data);\r\n        socket.emit('login', JSON.stringify(user_data));\r\n\r\n        socket.on('result', (data) => {\r\n          \r\n          let result = data.data;\r\n\r\n          switch(data.code){\r\n            case 'port_ready':\r\n                if(result){\r\n                  document.querySelector('.ready').click();\r\n                } else {\r\n                    console.log(data);\r\n                    window.Android.charge_fail(name, port, 992, ''+data.detail);\r\n                }\r\n                break;\r\n            case 'port_cancel':\r\n            if(result){\r\n                    // $('#status').text('충전 취소 처리 완료');\r\n                } else {\r\n                    console.log(data);\r\n                    // $('#status').text('충전 취소 처리 실패 : ' + data.detail);\r\n                    window.Android.charge_fail(name, port, 999, \"사용자 취소 요청\");\r\n                }\r\n                break;\r\n            case 'login':\r\n                if(result){\r\n                    // $('#status').text('로그인 성공');\r\n                    let station_data = {\r\n                        station_id: id,\r\n                        port_numb: port\r\n                    }\r\n                    socket.emit('port_ready', station_data);\r\n                    // $('#status').text('충전 준비 요청');\r\n                } else {\r\n                    document.querySelector('.error1').click();\r\n                    this.setState({\r\n                      state: \"fail\",\r\n                    })\r\n                }\r\n                break;\r\n            case 'charge_start':\r\n              document.querySelector('.success').click();\r\n              this.setState({\r\n                state: \"success\",\r\n              });\r\n              break;\r\n            }\r\n        });\r\n      }\r\n\r\n      else{\r\n        switch(err_code){\r\n          case 800:\r\n            document.querySelector('.error4').click();\r\n            this.setState({\r\n              state: \"fail\",\r\n            })\r\n            break;\r\n\r\n          case 989:\r\n          case 979:\r\n          case 999:\r\n            document.querySelector('.error1').click();\r\n            this.setState({\r\n              state: \"fail\",\r\n            })\r\n            break;\r\n        }\r\n      }\r\n    // if(!result){\r\n    //   window.Android.charge_fail(name, port, 992, msg);\r\n    //   return false;\r\n    // }\r\n\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <BrowserRouter>\r\n        <Links/>\r\n        <Route\r\n          render={({ location }) => {\r\n            return (\r\n              <PageTransition\r\n                preset=\"moveToLeftFromRight\"\r\n                transitionKey={location.pathname}\r\n              >\r\n                <Switch location={location}>\r\n                  <Route exact path=\"/ready\">\r\n                    <ChargeReady timeOut={this.timeOut}></ChargeReady>  \r\n                  </Route>\r\n                  <Route exact path=\"/success\">\r\n                    <ChargeSuccess handleClick={this.handleClick} timeOut={this.timeOut}></ChargeSuccess>  \r\n                  </Route>\r\n                  <Route exact path=\"/errorPage1\">\r\n                    <ErrorPage havePlug='true' handleClick={this.handleClick}>\r\n                      <div></div>\r\n                      <div>아래 모양의 단자를 가진 충전소에서 충전해주세요.</div>\r\n                    </ErrorPage>\r\n                  </Route>\r\n                  <Route exact path=\"/errorPage2\">\r\n                    <ErrorPage havPlug='false' handleClick={this.handleClick}>\r\n                      <div>현재 이용이 불가능한 충전소입니다.</div>\r\n                      <div>다른 충전소를 이용해주세요.</div>\r\n                    </ErrorPage>\r\n                  </Route>\r\n                  <Route exact path=\"/errorPage3\">\r\n                    <ErrorPage havPlug='false' handleClick={this.handleClick}>\r\n                      <div>충전단자가 정상적으로 인식되지 않았습니다.</div>\r\n                      <div>킥보드에 단자를 올바르게 삽입해주세요.</div>\r\n                    </ErrorPage>\r\n                  </Route>\r\n                  <Route exact path=\"/errorPage4\">\r\n                    <ErrorPage havPlug='false' handleClick={this.handleClick}>\r\n                      <div>충전소 이용을 다시 시도해주세요.</div>\r\n                    </ErrorPage>\r\n                  </Route>\r\n                </Switch>\r\n              </PageTransition>\r\n            );\r\n          }}\r\n        />\r\n      </BrowserRouter>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App.jsx';\r\n\r\nReactDOM.render(\r\n  <App></App>,\r\n  document.getElementById('root'),\r\n)"],"sourceRoot":""}