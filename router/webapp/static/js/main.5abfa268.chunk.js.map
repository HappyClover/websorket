{"version":3,"sources":["images/back.svg","images/exit.svg","images/kickboard.svg","images/chargePort.svg","App.jsx","index.js"],"names":["result","window","id","name","port","key","code","msg","err_code","androidBridge","type","mobile","wingstation","charge_start","message","station_name","port_numb","webkit","messageHandlers","postMessage","JSON","stringify","charge_fail","socket","close","require","io","varUA","navigator","userAgent","toLowerCase","indexOf","checkMobile","Clock","props","state","time","decreaseTime","bind","this","setState","emit","timeOut","clearInterval","timeID","setInterval","className","React","Component","Brochure","src","kickboard","alt","style","fontSize","fontWeight","chargePort","HeaderText","text","HeaderButton","imgSource","function","backArrow","exit","Header","headerText","ChargeReady","FooterButton","onClick","handleClick","ChargeDisplayPlug","ChargeDisplayText","Fragment","color","marginBottom","ChargeDisplayContainer","ChargeSuccess","ErrorText","children","ErrorDisplayContainer","havePlug","displayPlug","ErrorPage","Links","to","replace","App","back_count","detail_error","station_data","station_id","document","querySelector","click","on","data","console","log","user_data","detail","render","location","preset","transitionKey","pathname","exact","path","havPlug","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.5abfa268.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/back.362f030b.svg\";","export default __webpack_public_path__ + \"static/media/exit.5b5e714c.svg\";","export default __webpack_public_path__ + \"static/media/kickboard.3d3acffc.svg\";","export default __webpack_public_path__ + \"static/media/chargePort.4d730b7a.svg\";","import React from 'react';\r\nimport { BrowserRouter, Switch, Route, Link } from 'react-router-dom';\r\nimport { PageTransition } from '@steveeeie/react-page-transition';\r\nimport './index.scss';\r\nimport backArrow from './images/back.svg';\r\nimport exit from './images/exit.svg'\r\nimport kickboard from './images/kickboard.svg';\r\nimport chargePort from './images/chargePort.svg';\r\n\r\n\r\nconst result = window.result;\r\nconst id = window.id;\r\nconst name = window.name;\r\nconst port = window.port;\r\nconst port_code = window.code;\r\nconst company = window.name;\r\nconst key = window.key;\r\nconst msg = window.msg;\r\nconst err_code = window.err_code;\r\n\r\nfunction checkMobile(){\r\n \r\n  var varUA = navigator.userAgent.toLowerCase(); //userAgent 값 얻기\r\n\r\n  if ( varUA.indexOf('android') > -1) {\r\n      //안드로이드\r\n      return \"android\";\r\n  } else if ( varUA.indexOf(\"iphone\") > -1||varUA.indexOf(\"ipad\") > -1||varUA.indexOf(\"ipod\") > -1 ) {\r\n      //IOS\r\n      return \"ios\";\r\n  } else {\r\n      //아이폰, 안드로이드 외\r\n      return \"other\";\r\n  }\r\n  \r\n}\r\n\r\nfunction androidBridge(type, err_code, msg){\r\n  if(type === \"success\"){\r\n    if(mobile === 'android'){\r\n      window.wingstation.charge_start(name, port);  \r\n    }\r\n    else if(mobile === 'ios'){\r\n      let message = {\r\n        station_name: name,\r\n        port_numb: port,\r\n      }\r\n\r\n      window.webkit.messageHandlers.charge_start.postMessage(JSON.stringify(message));\r\n    }\r\n  }\r\n\r\n  else if(type === \"fail\"){\r\n    if(mobile === 'android'){\r\n      window.wingstation.charge_fail(name, port, err_code, msg);\r\n    }\r\n    else if(mobile === 'ios'){\r\n      let message = {\r\n        station_name: name,\r\n        port_numb: port,\r\n        err_code: err_code,\r\n        msg: msg,\r\n      }\r\n\r\n      window.webkit.messageHandlers.charge_fail.postMessage(JSON.stringify(message));\r\n      socket.close();\r\n    }\r\n  }\r\n}\r\n\r\n\r\nconst io = require(\"socket.io-client\");\r\nconst socket = io();\r\nconst mobile = checkMobile();\r\n\r\nclass Clock extends React.Component{\r\n  constructor(props){\r\n    super(props);\r\n    this.state={\r\n      time: this.props.time,\r\n    }\r\n    \r\n    this.decreaseTime = this.decreaseTime.bind(this);\r\n  }\r\n\r\n  decreaseTime(){\r\n    const time = this.state.time;\r\n\r\n    if(time > -2){\r\n      this.setState({\r\n        time: time - 1,\r\n      });\r\n    }\r\n    \r\n    else{\r\n      socket.emit('charge_cancel');\r\n      this.props.timeOut();\r\n      clearInterval(this.timeID);\r\n    }\r\n  }\r\n\r\n  componentDidMount(){\r\n    this.timeID = setInterval(this.decreaseTime, 1000);\r\n  }\r\n\r\n  render(){\r\n\r\n    let time = this.state.time;\r\n\r\n    if(this.state.time < 0){\r\n      time = 0;\r\n    }\r\n  \r\n    return(\r\n      <div className='clockContainer'>\r\n        <div className='clock'>\r\n          {time}\r\n        </div>\r\n        <div className='clockText'>\r\n          초 후에 자동으로 화면이 넘어갑니다.\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nclass Brochure extends React.Component{\r\n  render(){\r\n    return(\r\n      <div className='brochure'>\r\n        <div className='explainContainer'>\r\n          <img className='kickboard' src={kickboard} alt='kickboard'></img>\r\n          <div className='firstExplain'>\r\n            <div style={{fontSize:'13px', fontWeight:'400'}}>01</div>\r\n            <div style={{fontSize:'12px', fontWeight:'700'}}>킥보드를 0번 거치대에</div>\r\n            <div style={{fontSize:'12px', fontWeight:'700'}}>끝까지 밀어넣어 주세요.</div>\r\n          </div>\r\n        </div>\r\n        <div className='explainContainer'>\r\n          <img className='chargePort' src={chargePort} alt='chargePort'></img>\r\n          <div className='secondExplain'>\r\n            <div style={{fontSize:'13px', fontWeight:'400'}}>02</div>\r\n            <div style={{fontSize:'12px', fontWeight:'700'}}>단자를 올바르게 꽂아주면</div>\r\n            <div style={{fontSize:'12px', fontWeight:'700'}}>자동으로 충전이 시작됩니다.</div>\r\n          </div>\r\n        </div>\r\n        <div className='split'></div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nclass HeaderText extends React.Component{\r\n  render(){\r\n    return(\r\n      <div className='headerText'>{this.props.text}</div>\r\n    )\r\n  }\r\n}\r\n\r\nclass HeaderButton extends React.Component{\r\n  render(){\r\n    let imgSource;\r\n\r\n    if(this.props.function === 'back'){\r\n      imgSource = backArrow;\r\n    }\r\n\r\n    else if(this.props.function === 'exit') {\r\n      imgSource = exit;\r\n    }\r\n\r\n    return(\r\n      <img className='headerButton' src={imgSource} alt='headerbutton'></img>\r\n    )\r\n  }\r\n}\r\n\r\nclass Header extends React.Component{\r\n  render(){\r\n    return(\r\n      <div className='header'>\r\n        <HeaderButton function={this.props.function}></HeaderButton>\r\n        <HeaderText text={this.props.headerText}></HeaderText>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nclass ChargeReady extends React.Component{\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      headerText: '충전 준비',\r\n    }\r\n  }\r\n  render(){\r\n    return( \r\n      <div className='page chargeReady'>\r\n        <Header headerText={this.state.headerText} function='back'></Header>\r\n        <Brochure></Brochure>\r\n        <Clock type='next' time={30} timeOut={this.props.timeOut}></Clock>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nclass FooterButton extends React.Component{\r\n  render(){\r\n    return(\r\n      <div className='footerButtonContainer'>\r\n        <button className='footerButton' onClick={this.props.handleClick}>{this.props.text}</button>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nclass ChargeDisplayPlug extends React.Component{\r\n  render(){\r\n    return(\r\n      <div className='plugContainer'>\r\n        <div>\r\n          <div>\r\n            <div></div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nclass ChargeDisplayText extends React.Component{\r\n  render(){\r\n\r\n    const style1 = {\r\n      fontSize: '18px',\r\n      fontWeight: '700',\r\n      color: '#FF9700',\r\n      marginBottom: '7px',\r\n    }\r\n\r\n    const style2 = {\r\n      fontSize: '16px',\r\n      fontWeight: '500',\r\n      color: '#333333',\r\n    }\r\n\r\n    const style3 = {\r\n      fontSize: '16px',\r\n      fontWeight: '500',\r\n      color: '#333333',\r\n      marginBottom: '25px',\r\n    }\r\n\r\n    return(\r\n      <React.Fragment>\r\n        <div style={style1}>1번 포트</div>\r\n        <div style={style2}>충전이 정상적으로</div>\r\n        <div style={style3}>시작되었습니다.</div>\r\n      </React.Fragment>\r\n    )\r\n  }\r\n}\r\n\r\nclass ChargeDisplayContainer extends React.Component{\r\n  render(){\r\n    return(\r\n      <div className='chargeDisplayContainer'>\r\n        <ChargeDisplayText></ChargeDisplayText>\r\n        <ChargeDisplayPlug></ChargeDisplayPlug>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nclass ChargeSuccess extends React.Component{\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      headerText: '충전 성공',\r\n    }\r\n  }\r\n\r\n  render(){\r\n    return(\r\n      <div className='page chargeSuccess'>\r\n        <Header headerText={this.state.headerText} function='back'></Header>\r\n        <ChargeDisplayContainer/>\r\n        <Clock type='back' time={5} timeOut={this.props.timeOut}></Clock>\r\n        <FooterButton text='종료하기' handleClick={this.props.handleClick} ></FooterButton>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nclass ErrorText extends React.Component{\r\n  render(){\r\n    return(\r\n      <div className='errorTextContainer'>\r\n        <div className='errorText'>\r\n          {this.props.children}\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nclass ErrorDisplayContainer extends React.Component{\r\n\r\n  displayPlug(){\r\n    if(this.props.havePlug === 'true'){\r\n      return <ChargeDisplayPlug></ChargeDisplayPlug>;\r\n    }\r\n    else if(this.props.havePlug === 'false'){\r\n      return null;\r\n    }\r\n    return null;\r\n  }\r\n\r\n  render(){\r\n    return(\r\n      <div className='errorDisplayContainer'>\r\n        <div className='errorHeadText'>오류발생</div>\r\n        <ErrorText>{this.props.children}</ErrorText>\r\n        {this.displayPlug()}\r\n      </div>\r\n    ) \r\n  }\r\n}\r\n\r\nclass ErrorPage extends React.Component{\r\n  render(){\r\n    return(\r\n      <div className='page errorPage'>\r\n        <Header headerText='' function='exit'></Header>\r\n        <ErrorDisplayContainer havePlug={this.props.havePlug}>\r\n          {this.props.children}\r\n        </ErrorDisplayContainer>\r\n        <FooterButton text='돌아가기' handleClick={this.props.handleClick}></FooterButton>\r\n      </div>   \r\n    )\r\n  }\r\n}\r\n\r\n\r\nconst Links = () => (\r\n  <div className='nav'>\r\n    <Link to=\"/ready\" className='ready' replace>Home</Link>\r\n    <Link to=\"/success\" className='success' replace>Success</Link>\r\n    <Link to=\"/errorPage1\" className='error1' replace>ErrorPage1</Link>\r\n    <Link to=\"/errorPage2\" className='error2' replace>ErrorPage2</Link>\r\n    <Link to=\"/errorPage3\" className='error3' replace>ErrorPage3</Link>\r\n    <Link to=\"/errorPage4\" className='error4' replace>ErrorPage4</Link>\r\n  </div>\r\n);\r\n \r\nclass App extends React.Component {\r\n\r\n  constructor(props){\r\n    super(props);\r\n    this.state ={\r\n      state: \"fail\",\r\n      back_count: 0,\r\n      detail_error: '',\r\n    }\r\n\r\n    this.handleClick = this.handleClick.bind(this);\r\n    this.timeOut = this.timeOut.bind(this);\r\n  }\r\n\r\n  handleClick(){\r\n    \r\n    if(this.state.state === \"fail\"){\r\n      androidBridge('fail', 992, this.state.detail_error);\r\n      window.close();\r\n    }\r\n\r\n    else if(this.state.state === \"back\"){\r\n\r\n      let station_data = {\r\n        station_id: id,\r\n        port_numb: port,\r\n      }\r\n\r\n      socket.emit('port_ready', station_data);\r\n      document.querySelector('.ready').click();\r\n    }\r\n\r\n    else if(this.state.state === \"success\"){\r\n      androidBridge('success');\r\n      window.close();\r\n    }\r\n\r\n  }\r\n\r\n  timeOut(){\r\n    if(this.state.state === \"success\"){\r\n      androidBridge('success');\r\n      window.close();\r\n    }\r\n    else{\r\n      this.setState({\r\n        back_count: this.state.back_count + 1,\r\n      });\r\n\r\n      if(this.state.back_count === 1){\r\n        document.querySelector('.error3').click();\r\n        this.setState({\r\n          state: \"back\",\r\n        });\r\n      }\r\n  \r\n      else if(this.state.back_count === 2){\r\n        document.querySelector('.error4').click();\r\n        this.setState({\r\n          state: \"fail\",\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  componentDidMount(){\r\n\r\n    socket.on('charge_start', (data) => {\r\n      console.log(\"charge_start event receive\");\r\n      document.querySelector('.success').click();\r\n      this.setState({\r\n        state: \"success\",\r\n      });\r\n      androidBridge('success');\r\n    });\r\n\r\n    socket.on('charge_cancel', (data) => {\r\n      console.log('charge_cancel event receive');\r\n      if(result){ // time over\r\n        if(this.state.back_count === 0){\r\n          document.querySelector('.error3').click(); \r\n          this.setState({\r\n            state: 'back',\r\n            back_count: this.state.back_count + 1,\r\n          });\r\n        }\r\n        else if(this.state.back_count === 1){\r\n          document.querySelector('.error4').click();\r\n          this.setState({\r\n            state: 'fail',\r\n          });\r\n        }\r\n      } else {\r\n          document.querySelector('.error4').click();\r\n          this.setState({\r\n            state: 'fail',\r\n          }); \r\n      }\r\n    });\r\n\r\n    if(result){\r\n\r\n      let user_data = {\"api\": key, \"type\": \"company\"};\r\n      console.log(user_data);\r\n      socket.emit('login', JSON.stringify(user_data));\r\n\r\n      socket.on('result', (data) => {\r\n        \r\n        console.log(\"result event receive\");\r\n        console.log(data);\r\n        let result = data.data;\r\n\r\n        switch(data.code){\r\n          case 'port_ready':\r\n            console.log(\"port_ready event receive\");\r\n            if(result){\r\n              document.querySelector('.ready').click();\r\n            } else {\r\n                console.log(data);\r\n                document.querySelector('.error4').click();\r\n                this.setState({\r\n                  state: 'fail',\r\n                  detail_error: data.detail,\r\n                });\r\n                androidBridge('fail', 992, data.detail);\r\n            }\r\n            break;\r\n          case 'port_cancel':\r\n            console.log(\"port_cancel event receive\");\r\n            if(result){ // time over\r\n              if(this.state.back_count === 0){\r\n                document.querySelector('.error3').click(); \r\n                this.setState({\r\n                  state: 'back',\r\n                  detail_error: data.detail,\r\n                  back_count: this.state.back_count + 1,\r\n                });\r\n              }\r\n              else if(this.state.back_count === 1){\r\n                document.querySelector('.error4').click();\r\n                this.setState({\r\n                  state: 'fail',\r\n                  detail_error: data.detail,\r\n                });\r\n              }\r\n            } else {\r\n                document.querySelector('.error4').click();\r\n                this.setState({\r\n                  state: 'fail',\r\n                  detail_error: data.detail,\r\n                }); \r\n            }\r\n            socket.emit('charge_cancel');\r\n            break;\r\n          case 'login':\r\n            console.log(\"login event receive\");\r\n            if(result){\r\n                console.log('login result true');\r\n                let station_data = {\r\n                    station_id: id,\r\n                    port_numb: port\r\n                }\r\n                socket.emit('port_ready', station_data);\r\n                // $('#status').text('충전 준비 요청');\r\n            } else {\r\n                console.log('login result false');\r\n                document.querySelector('.error4').click();\r\n                this.setState({\r\n                  state: \"fail\",\r\n                  detail_error: data.detail,\r\n                })\r\n            }\r\n            break;\r\n        }\r\n      });\r\n    }\r\n\r\n    else{\r\n      switch(err_code){\r\n        case 800:\r\n          document.querySelector('.error1').click();\r\n          this.setState({\r\n            state: \"fail\",\r\n            detail_error: msg,\r\n          })\r\n          break;\r\n\r\n        case 989:\r\n        case 979:\r\n        case 999:\r\n          document.querySelector('.error4').click();\r\n          this.setState({\r\n            state: \"fail\",\r\n            detail_error: msg,\r\n          })\r\n          break;\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <BrowserRouter>\r\n        <Links/>\r\n        <Route\r\n          render={({ location }) => {\r\n            return (\r\n              <PageTransition\r\n                preset=\"moveToLeftFromRight\"\r\n                transitionKey={location.pathname}\r\n              >\r\n                <Switch location={location}>\r\n                  <Route exact path=\"/ready\">\r\n                    <ChargeReady timeOut={this.timeOut}></ChargeReady>  \r\n                  </Route>\r\n                  <Route exact path=\"/success\">\r\n                    <ChargeSuccess handleClick={this.handleClick} timeOut={this.timeOut}></ChargeSuccess>  \r\n                  </Route>\r\n                  <Route exact path=\"/errorPage1\">\r\n                    <ErrorPage havePlug='true' handleClick={this.handleClick}>\r\n                      <div></div>\r\n                      <div>아래 모양의 단자를 가진 충전소에서 충전해주세요.</div>\r\n                    </ErrorPage>\r\n                  </Route>\r\n                  <Route exact path=\"/errorPage2\">\r\n                    <ErrorPage havPlug='false' handleClick={this.handleClick}>\r\n                      <div>현재 이용이 불가능한 충전소입니다.</div>\r\n                      <div>다른 충전소를 이용해주세요.</div>\r\n                    </ErrorPage>\r\n                  </Route>\r\n                  <Route exact path=\"/errorPage3\">\r\n                    <ErrorPage havPlug='false' handleClick={this.handleClick}>\r\n                      <div>충전단자가 정상적으로 인식되지 않았습니다.</div>\r\n                      <div>킥보드에 단자를 올바르게 삽입해주세요.</div>\r\n                    </ErrorPage>\r\n                  </Route>\r\n                  <Route exact path=\"/errorPage4\">\r\n                    <ErrorPage havPlug='false' handleClick={this.handleClick}>\r\n                      <div>충전소 이용을 다시 시도해주세요.</div>\r\n                    </ErrorPage>\r\n                  </Route>\r\n                </Switch>\r\n              </PageTransition>\r\n            );\r\n          }}\r\n        />\r\n      </BrowserRouter>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App.jsx';\r\n\r\nReactDOM.render(\r\n  <App></App>,\r\n  document.getElementById('root'),\r\n)"],"sourceRoot":""}